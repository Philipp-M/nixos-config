#set mod keys
set $mod Mod4 
set $alt Mod1

# Set Keyboard to default to colemak and use <super>+c to switch between us-qwerty and colemak
exec_always --no-startup-id $HOME/scripts/toggle_colemak.sh colemak
bindsym $mod+c exec $HOME/scripts/toggle_colemak.sh

# Background Picture
exec_always --no-startup-id feh --bg-fill --randomize ~/.wallpaper/* &

# Compositor - kills performance
# for nvidia vsync
# exec_always --no-startup-id compton -c --backend glx --paint-on-overlay --unredir-if-possible

# Redshift
exec --no-startup-id redshift -l 47.267:11.383 -t 6500:4800

# Audio Control for PulseAudio
bindsym XF86AudioRaiseVolume exec --no-startup-id ponymix increase 1
bindsym XF86AudioLowerVolume exec --no-startup-id ponymix decrease 1
bindsym XF86AudioMute exec --no-startup-id ponymix toggle

# Screenshots (<super>+p for selection into clipboard, <super>+Shift+p for full screenshot)
bindsym $mod+p --release exec "scrot -s $HOME/Screenshots/screenshot-$(date +%F_%T).png -e 'xclip -selection c -t image/png < $f'"
bindsym $mod+Shift+p --release exec "scrot $HOME/Screenshots/screenshot-$(date +%F_%T).png"

# Special floating settings for different applications
for_window [class="Wine"] floating enable
for_window [class="Steam"] floating enable

for_window [class="Onboard"] floating enable
for_window [class="Onboard"] sticky enable
for_window [class="Onboard"] border none

new_window pixel 0
new_float pixel 0

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:Fira Code 11

#open current clipboard link in mpv (for example youtube)
# bindsym $mod+p exec mpv $(xclip -o)

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Start browser
# bindsym $mod+w exec chromium
bindsym $mod+w exec firefox-developer-edition

# Neovim/Neovide
bindsym $mod+e exec neovide

# start a terminal
# bindsym $mod+Return exec ~/Development/randomStuff/lukeSt/st
# bindsym $mod+Return exec alacritty
# bindsym $mod+Return exec termite
bindsym $mod+Return exec kitty --single-instance

# kill focused window
bindsym $mod+q kill

# Gaps settings
# disable by default
# but toggling current workspace with mod+g is possible

bindsym $mod+g exec i3-msg 'gaps inner current toggle 20'

# no gaps when there is only one window on the screen
smart_gaps on
#smart_borders on

# change focus
# qwerty
# bindsym $mod+h focus left
# bindsym $mod+j focus down
# bindsym $mod+k focus up
# bindsym $mod+l focus right
# colemak
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+h focus up
bindsym $mod+l focus right

bindcode $mod+113 focus left
bindcode $mod+116 focus down
bindcode $mod+111 focus up
bindcode $mod+114 focus right

# Move focused window
# Qwerty
# bindsym $mod+Shift+h move left
# bindsym $mod+Shift+j move down
# bindsym $mod+Shift+k move up
# bindsym $mod+Shift+l move right
# Colemak
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+h move up
bindsym $mod+Shift+l move right

bindcode $mod+Shift+113 move left
bindcode $mod+Shift+116 move down
bindcode $mod+Shift+111 move up
bindcode $mod+Shift+114 move right

# Split in horizontal orientation
bindsym $mod+b split h

# Split in vertical orientation
bindsym $mod+v split v

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
# currently not used
#bindsym $mod+w layout tabbed
#bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+t floating toggle

# change focus between tiling / floating windows
bindsym $mod+t focus mode_toggle

# make window sticky
bindsym $mod+Shift+s sticky toggle

# focus the parent container
#bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

set $DISPLAY-0 DP-4
set $DISPLAY-1 DP-2

#assign workspaces to different screen

workspace 1 output $DISPLAY-0
workspace 2 output $DISPLAY-0
workspace 3 output $DISPLAY-0
workspace 4 output $DISPLAY-0
workspace 5 output $DISPLAY-0
workspace 6 output $DISPLAY-0
workspace 7 output $DISPLAY-0
workspace 8 output $DISPLAY-0
#
workspace 9 output $DISPLAY-1
workspace 0 output $DISPLAY-1

mouse_warping none

#hide borders when only one window on screen
hide_edge_borders both

# switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 0

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 0

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Dou you want to quit?' -b 'Exit i3' 'i3-msg exit' -b 'Reboot' 'reboot' -b 'Shutdown' 'poweroff' -b 'Suspend' 'sudo systemctl suspend'"


# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        # qwerty
        # bindsym h resize shrink width 10 px or 10 ppt
        # bindsym j resize grow height 10 px or 10 ppt
        # bindsym k resize shrink height 10 px or 10 ppt
        # bindsym l resize grow width 10 px or 10 ppt
        # colemak
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym h resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt
        bindcode 113 resize shrink width 10 px or 10 ppt
        bindcode 116 resize grow height 10 px or 10 ppt
        bindcode 111 resize shrink height 10 px or 10 ppt
        bindcode 114 resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"


set_from_resource $transparent transparent
set_from_resource $base00 color0 #282828
set_from_resource $base01 color1 #cc241d
set_from_resource $base02 color2 #98971a
set_from_resource $base03 color3 #d79921
set_from_resource $base04 color4 #458588
set_from_resource $base05 color5 #b16286
set_from_resource $base06 color6 #689d6a
set_from_resource $base07 color7 #a89984
set_from_resource $base08 color8 #928374
set_from_resource $base09 color9 #fb4934
set_from_resource $base0A color10 #b8bb26
set_from_resource $base0B color11 #fabd2f
set_from_resource $base0C color12 #83a598
set_from_resource $base0D color13 #d3869b
set_from_resource $base0E color14 #8ec07c
set_from_resource $base0F color15 #ebdbb2


# start rofi 

bindsym $mod+space exec --no-startup-id j4-dmenu-desktop --dmenu="$HOME/scripts/rofi_dmenu_custom.sh"

exec_always --no-startup-id $HOME/.config/polybar/launch.sh

client.focused $base00 $base00 $base00 $base01 $base0F
client.focused_inactive $base07 $base07 $base07 $base09 $base07
client.unfocused $base08 $base08 $base09 $base09 $base08
client.urgent $base01 $base08 $base07 $base08 $base01
client.background $base00
